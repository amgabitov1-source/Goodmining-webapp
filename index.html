<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Good Mining - –ú–∞–π–Ω–∏–Ω–≥ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –£—Ñ–∞</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0f0f1e;
            color: #ffffff;
            min-height: 100vh;
        }
        
        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 0 16px;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 20px;
            text-align: center;
            border-radius: 0 0 30px 30px;
            margin-bottom: 24px;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 2px, transparent 2px);
            background-size: 30px 30px;
            opacity: 0.3;
        }
        
        .logo {
            font-size: 28px;
            font-weight: 800;
            position: relative;
            z-index: 1;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .tagline {
            font-size: 13px;
            opacity: 0.9;
            margin-top: 8px;
            position: relative;
            z-index: 1;
        }
        
        .location {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(255,255,255,0.2);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 12px;
            margin-top: 12px;
            backdrop-filter: blur(10px);
        }
        
        /* Menu Grid */
        .menu-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 24px;
        }
        
        .menu-btn {
            background: #1a1a2e;
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 16px;
            padding: 24px 16px;
            text-align: center;
            text-decoration: none;
            color: #fff;
            transition: all 0.2s;
        }
        
        .menu-btn:active {
            transform: scale(0.96);
            background: #252542;
        }
        
        .menu-icon {
            font-size: 32px;
            margin-bottom: 8px;
            display: block;
        }
        
        .menu-title {
            font-size: 14px;
            font-weight: 600;
        }
        
        .menu-desc {
            font-size: 11px;
            color: #888;
            margin-top: 4px;
        }
        
        /* AI Section */
        .ai-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            position: relative;
        }
        
        .ai-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }
        
        .ai-avatar {
            width: 56px;
            height: 56px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            backdrop-filter: blur(10px);
        }
        
        .ai-info h3 {
            font-size: 18px;
            margin-bottom: 4px;
        }
        
        .ai-info span {
            font-size: 12px;
            opacity: 0.9;
        }
        
        .ai-text {
            font-size: 14px;
            line-height: 1.5;
            opacity: 0.95;
            margin-bottom: 16px;
        }
        
        .ai-btn {
            width: 100%;
            padding: 16px;
            background: #fff;
            color: #667eea;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .ai-btn:active {
            transform: scale(0.98);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        /* Products Preview */
        .section-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .product-card {
            background: #1a1a2e;
            border: 1px solid rgba(102, 126, 234, 0.2);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 12px;
        }
        
        .product-badge {
            display: inline-block;
            background: #00d084;
            color: #000;
            padding: 4px 10px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 700;
            margin-bottom: 12px;
        }
        
        .product-name {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .product-specs {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
        }
        
        .spec {
            font-size: 13px;
            color: #888;
        }
        
        .spec strong {
            color: #fff;
            display: block;
            font-size: 14px;
        }
        
        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .price {
            font-size: 22px;
            font-weight: 800;
            color: #ffd700;
        }
        
        .buy-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 10px;
            color: #fff;
            font-weight: 600;
            cursor: pointer;
        }
        
        /* Chat Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #0f0f1e;
            z-index: 1000;
            flex-direction: column;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-header {
            padding: 16px;
            background: #1a1a2e;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .modal-title {
            font-size: 16px;
            font-weight: 600;
        }
        
        .close-btn {
            width: 36px;
            height: 36px;
            background: rgba(255,255,255,0.1);
            border: none;
            border-radius: 50%;
            color: #fff;
            font-size: 20px;
            cursor: pointer;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .msg-bot {
            background: #1a1a2e;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }
        
        .msg-user {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        
        .chat-input-area {
            padding: 16px;
            background: #1a1a2e;
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            gap: 12px;
        }
        
        .chat-input {
            flex: 1;
            background: #0f0f1e;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 24px;
            padding: 12px 20px;
            color: #fff;
            font-size: 15px;
            outline: none;
        }
        
        .send-btn {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 50%;
            color: #fff;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 32px 16px;
            color: #666;
            font-size: 12px;
        }
        
        .phone-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(102, 126, 234, 0.2);
            color: #667eea;
            padding: 12px 24px;
            border-radius: 24px;
            text-decoration: none;
            font-weight: 600;
            margin-bottom: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo">‚õèÔ∏è Good Mining</div>
            <div class="tagline">–ü—Ä–æ–¥–∞–∂–∞ –∏ —Ä–µ–º–æ–Ω—Ç ASIC-–º–∞–π–Ω–µ—Ä–æ–≤</div>
            <div class="location">üìç –£—Ñ–∞ ‚Ä¢ –î–æ—Å—Ç–∞–≤–∫–∞ –ø–æ –†–æ—Å—Å–∏–∏</div>
        </div>
        
        <!-- Menu -->
        <div class="menu-grid">
            <a href="#" class="menu-btn" onclick="showCatalog()">
                <span class="menu-icon">üõí</span>
                <div class="menu-title">–ö–∞—Ç–∞–ª–æ–≥</div>
                <div class="menu-desc">ASIC –≤ –Ω–∞–ª–∏—á–∏–∏</div>
            </a>
            <a href="#" class="menu-btn" onclick="showCalculator()">
                <span class="menu-icon">üìä</span>
                <div class="menu-title">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</div>
                <div class="menu-desc">–û–∫—É–ø–∞–µ–º–æ—Å—Ç—å</div>
            </a>
            <a href="#" class="menu-btn" onclick="showRepair()">
                <span class="menu-icon">üîß</span>
                <div class="menu-title">–†–µ–º–æ–Ω—Ç</div>
                <div class="menu-desc">–°–µ—Ä–≤–∏—Å–Ω—ã–π —Ü–µ–Ω—Ç—Ä</div>
            </a>
            <a href="#" class="menu-btn" onclick="showContacts()">
                <span class="menu-icon">üìû</span>
                <div class="menu-title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
                <div class="menu-desc">–°–≤—è–∑–∞—Ç—å—Å—è</div>
            </a>
        </div>
        
        <!-- AI Assistant -->
        <div class="ai-card">
            <div class="ai-header">
                <div class="ai-avatar">ü§ñ</div>
                <div class="ai-info">
                    <h3>AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</h3>
                    <span>‚ö° –û—Ç–≤–µ—á–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ</span>
                </div>
            </div>
            <div class="ai-text">
                –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å –æ –º–∞–π–Ω–∏–Ω–≥–µ: –ø–æ–¥–±–æ—Ä –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, —Ä–∞—Å—á—ë—Ç –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏, 
                —Ä–µ–º–æ–Ω—Ç –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–µ—Ä–º—ã ‚Äî –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç –∑–∞ —Å–µ–∫—É–Ω–¥—ã!
            </div>
            <button class="ai-btn pulse" onclick="openChat()">
                <span>üí¨</span>
                –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å AI
            </button>
        </div>
        
        <!-- Products -->
        <div class="section-title">üî• –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–æ–¥–µ–ª–∏</div>
        
        <div class="product-card">
            <span class="product-badge">–í –ù–ê–õ–ò–ß–ò–ò</span>
            <div class="product-name">Antminer S19 XP</div>
            <div class="product-specs">
                <div class="spec">
                    <strong>140 TH/s</strong>
                    –•–µ—à—Ä–µ–π—Ç
                </div>
                <div class="spec">
                    <strong>3010W</strong>
                    –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
                </div>
            </div>
            <div class="product-footer">
                <div class="price">149 000 ‚ÇΩ</div>
                <button class="buy-btn" onclick="order('s19xp')">–ó–∞–∫–∞–∑–∞—Ç—å</button>
            </div>
        </div>
        
        <div class="product-card">
            <span class="product-badge">–í –ù–ê–õ–ò–ß–ò–ò</span>
            <div class="product-name">Antminer S19j Pro</div>
            <div class="product-specs">
                <div class="spec">
                    <strong>104 TH/s</strong>
                    –•–µ—à—Ä–µ–π—Ç
                </div>
                <div class="spec">
                    <strong>3068W</strong>
                    –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
                </div>
            </div>
            <div class="product-footer">
                <div class="price">94 000 ‚ÇΩ</div>
                <button class="buy-btn" onclick="order('s19jpro')">–ó–∞–∫–∞–∑–∞—Ç—å</button>
            </div>
        </div>
        
        <!-- Footer -->
        <div class="footer">
            <a href="tel:+79171234567" class="phone-btn">
                üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å –Ω–∞–º
            </a>
            <p>¬© 2024 Good Mining –£—Ñ–∞</p>
            <p style="margin-top: 8px;">–û–û–û "–ì—É–¥ –ú–∞–π–Ω–∏–Ω–≥"</p>
        </div>
    </div>
    
    <!-- Chat Modal -->
    <div class="modal" id="chatModal">
        <div class="modal-header">
            <div class="modal-title">ü§ñ AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç Good Mining</div>
            <button class="close-btn" onclick="closeChat()">√ó</button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <div class="message msg-bot">
                –ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É —Å –≤—ã–±–æ—Ä–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è, —Ä–∞—Å—á—ë—Ç–æ–º –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ –∏–ª–∏ –∑–∞–ø–∏—Å—å—é –Ω–∞ —Ä–µ–º–æ–Ω—Ç. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å? ‚õèÔ∏è
            </div>
        </div>
        <div class="chat-input-area">
            <input type="text" class="chat-input" id="chatInput" 
                   placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." 
                   onkeypress="handleKeyPress(event)">
            <button class="send-btn" onclick="sendMessage()">‚û§</button>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.ready();
        
        // –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const user = tg.initDataUnsafe.user || {};
        
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ —á–∞—Ç–∞
        let isWaiting = false;
        
        // –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç
        function openChat() {
            document.getElementById('chatModal').classList.add('active');
            tg.HapticFeedback.impactOccurred('light');
        }
        
        // –ó–∞–∫—Ä—ã—Ç—å —á–∞—Ç
        function closeChat() {
            document.getElementById('chatModal').classList.remove('active');
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
        async function sendMessage() {
            const input = document.getElementById('chatInput');
            const text = input.value.trim();
            
            if (!text || isWaiting) return;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            addMessage(text, 'user');
            input.value = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º "–ø–µ—á–∞—Ç–∞–µ—Ç..."
            isWaiting = true;
            showTyping();
            
            try {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ n8n
                const response = await fetch('https://your-n8n-domain/webhook/telegram-bot', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        message: {
                            text: text,
                            chat: { id: user.id || 'webapp_user' },
                            from: {
                                id: user.id || 'webapp_user',
                                first_name: user.first_name || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
                                username: user.username || ''
                            }
                        },
                        source: 'webapp',
                        webapp: true
                    })
                });
                
                // –ñ–¥—ë–º –æ—Ç–≤–µ—Ç (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ n8n –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –æ—Ç–≤–µ—Ç)
                setTimeout(() => {
                    hideTyping();
                    
                    // –í—Ä–µ–º–µ–Ω–Ω–æ: –∏–º–∏—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ AI
                    const reply = getAIResponse(text);
                    addMessage(reply, 'bot');
                    
                    isWaiting = false;
                }, 1000);
                
            } catch (e) {
                hideTyping();
                addMessage('–û—à–∏–±–∫–∞ —Å–≤—è–∑–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.', 'bot');
                isWaiting = false;
            }
        }
        
        // –ü—Ä–æ—Å—Ç–æ–π AI (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ n8n)
        function getAIResponse(text) {
            const lower = text.toLowerCase();
            
            if (lower.includes('—Ü–µ–Ω–∞') || lower.includes('—Å–∫–æ–ª—å–∫–æ')) {
                return 'üí∞ Antminer S19 XP ‚Äî 149 000‚ÇΩ, S19j Pro ‚Äî 94 000‚ÇΩ. –¢–æ—á–Ω—É—é —Ü–µ–Ω—É —Å —É—á—ë—Ç–æ–º –æ–±—ä—ë–º–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞?';
            }
            if (lower.includes('–¥–æ—Å—Ç–∞–≤–∫–∞')) {
                return 'üöö –£—Ñ–∞ ‚Äî 1 –¥–µ–Ω—å (500‚ÇΩ), –ø–æ –†–æ—Å—Å–∏–∏ ‚Äî 3-7 –¥–Ω–µ–π. –°–∞–º–æ–≤—ã–≤–æ–∑ —Å –Ω–∞—à–µ–≥–æ —Å–∫–ª–∞–¥–∞ –≤ –£—Ñ–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ!';
            }
            if (lower.includes('—Ä–µ–º–æ–Ω—Ç')) {
                return 'üîß –†–µ–º–æ–Ω—Ç–∏—Ä—É–µ–º –≤—Å–µ –º–æ–¥–µ–ª–∏ ASIC. –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ! –°—Ä–æ–∫ —Ä–µ–º–æ–Ω—Ç–∞ –æ—Ç 2 —á–∞—Å–æ–≤. –ó–∞–ø–∏—Å–∞—Ç—å—Å—è?';
            }
            if (lower.includes('–æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å') || lower.includes('–¥–æ—Ö–æ–¥')) {
                return 'üìä S19 XP –æ–∫—É–ø–∞–µ—Ç—Å—è –∑–∞ 8-10 –º–µ—Å—è—Ü–µ–≤ –ø—Ä–∏ —Ü–µ–Ω–µ —ç–ª–µ–∫—Ç—Ä–æ—ç–Ω–µ—Ä–≥–∏–∏ 5‚ÇΩ/–∫–í—Ç. –¢–æ—á–Ω—ã–π —Ä–∞—Å—á—ë—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –Ω–∞—à–µ–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–µ!';
            }
            if (lower.includes('–º–µ–Ω–µ–¥–∂–µ—Ä') || lower.includes('–æ–ø–µ—Ä–∞—Ç–æ—Ä') || lower.includes('—á–µ–ª–æ–≤–µ–∫')) {
                // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
                setTimeout(() => {
                    tg.openTelegramLink('https://t.me/goodmining_bot?start=manager_request');
                }, 500);
                return '–°–µ–π—á–∞—Å —Å–æ–µ–¥–∏–Ω—é —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º... ‚è≥';
            }
            
            return '–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –ß—Ç–æ–±—ã –¥–∞—Ç—å —Ç–æ—á–Ω—ã–π –æ—Ç–≤–µ—Ç, –ø—Ä–µ–¥–ª–∞–≥–∞—é —Å–≤—è–∑–∞—Ç—å –≤–∞—Å —Å –Ω–∞—à–∏–º —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–º. –ù–∞–ø–∏—à–∏—Ç–µ "–º–µ–Ω–µ–¥–∂–µ—Ä" –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞. üë®‚Äçüíº';
        }
        
        // –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
        function addMessage(text, sender) {
            const container = document.getElementById('chatMessages');
            const div = document.createElement('div');
            div.className = `message msg-${sender}`;
            div.textContent = text;
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }
        
        // –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—á–∞—Ç–∏
        function showTyping() {
            const container = document.getElementById('chatMessages');
            const div = document.createElement('div');
            div.className = 'message msg-bot';
            div.id = 'typing';
            div.innerHTML = '<span style="opacity:0.6">–ø–µ—á–∞—Ç–∞–µ—Ç<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span></span>';
            container.appendChild(div);
            container.scrollTop = container.scrollHeight;
        }
        
        function hideTyping() {
            const el = document.getElementById('typing');
            if (el) el.remove();
        }
        
        // Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
        function handleKeyPress(e) {
            if (e.key === 'Enter') sendMessage();
        }
        
        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        function showCatalog() {
            tg.showAlert('–ü–æ–ª–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω! –°–µ–π—á–∞—Å –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞.');
        }
        
        function showCalculator() {
            tg.showAlert('–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ —Ä–∞—Å—á—ë—Ç —É AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç–∞!');
        }
        
        function showRepair() {
            tg.openTelegramLink('https://t.me/goodmining_bot?start=repair_request');
        }
        
        function showContacts() {
            tg.openTelegramLink('https://t.me/goodmining_bot?start=contacts');
        }
        
        // –ó–∞–∫–∞–∑ —Ç–æ–≤–∞—Ä–∞
        function order(product) {
            tg.openTelegramLink(`https://t.me/goodmining_bot?start=order_${product}`);
            tg.HapticFeedback.notificationOccurred('success');
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –≤ n8n
        fetch('https://your-n8n-domain/webhook/webapp-open', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                user_id: user.id,
                username: user.username,
                first_name: user.first_name,
                timestamp: new Date().toISOString(),
                source: 'webapp'
            })
        }).catch(() => {});
    </script>
</body>
</html>
